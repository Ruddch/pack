.app {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100vh;
  padding: 2rem;
  overflow: hidden;
  user-select: none;
}

.tilt-wrapper {
  position: relative;
  display: inline-block;
  margin: 0 auto;
  z-index: 2;
}

.image-container {
  position: relative;
  display: inline-block;
  cursor: pointer;
}

.hover-image {
  max-width: 100%;
  max-height: 80vh;
  width: auto;
  height: auto;
  display: block;
}

.wrapper {
  width: 100%;
  position: relative;
  display: inline-block;
}
.tilt-wrapper:active {
  cursor: grabbing;
}
.peel-container {
  position: relative;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.top {
  position: absolute;
  top: 0;
  right: 0;
  width: calc(100% - 36px);
  height: 5%;
  background-image: url('/pack-top.png');
  background-size: cover;
  background-position: bottom right;
  background-repeat: no-repeat;
  z-index: 100;
  pointer-events: auto;
  will-change: transform, clip-path, opacity;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  cursor: grab;
}

.top.pack-opened {
  transform: translateX(1200px) translateY(-50px) rotate(-10deg) !important;
  transform-origin: center center;
  transition: transform 0.6s ease-in-out !important;
}

.top:active {
  cursor: grabbing;
}

.angle-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 36px;
  height: 100%;
  transform: translateX(-100%);
  transform-origin: right top;
  transition: filter 0.3s ease-in-out;
  z-index: 1000;
  cursor: grab;
}

.angle-container.active, .angle-container:hover {
  filter: drop-shadow(5px 5px 5px rgba(0, 0, 0, 0.5));
}

.angle-container.active {
  cursor: grabbing;
}


.angle {
  width: 100%;
  height: 100%;
  background-image: url('/pack-top.png');
  background-size: cover;
  background-position: left;
  background-repeat: no-repeat;
  transform-style: preserve-3d;
  transform-origin: right bottom;
  transition: 0.3s ease-in-out;
  clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  /* box-shadow: 0 0 10px rgba(0, 0, 0, .5); */
  cursor: grab;
  z-index: 1000;
}

.angle.active {
  cursor: grabbing;
}


.angle::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 10%;
  height: 10%;
  z-index: 1000;
  background-image: 
    var(--volume-gradient, linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(243, 243, 243, 0.6) 45%, rgba(221, 221, 221, 0.5) 50%, rgba(170, 170, 170, 0.4) 50%, rgba(187, 187, 187, 0.5) 56%, rgba(204, 204, 204, 0.6) 62%, rgba(243, 243, 243, 0.6) 80%, rgba(255, 255, 255, 0.7) 100%)),
    url('/pack-top copy.png');
  background-size: cover, cover;
  background-position: left, left;
  background-repeat: no-repeat, no-repeat;
  transition: width 0.3s ease-in-out, height 0.3s ease-in-out;
}
.angle-container:hover .angle::before {
  width: 100%;
  height: 100%;
  
}

.angle-container:hover .angle {
  /* transform: translateX(-100%) perspective(1000px) rotateY(30deg) rotateX(-15deg); */
  clip-path: polygon(50% 50%, 100% 0, 100% 100%, 0% 100%);

}

.angle.active {
  /* transform: translateX(-100%) perspective(1000px) rotateY(30deg) rotateX(-15deg); */
  clip-path: polygon(50% 50%, 100% 0, 100% 100%, 0% 100%);
  transition: none;
}

.angle.active::before {
  width: 100%;
  height: 100%;
}

.cards-container {
  opacity: 0;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 700px;
  pointer-events: none;
  transform: translateY(15%) scale(1.1);
  transition: transform 0.2s ease-in-out;
  z-index: 0;
  perspective: 1000px;
}

.cards-container.pack-opened {
  animation: cardsOpened 1.8s ease-in-out;
  animation-fill-mode: both;
}

@keyframes cardsOpened {
  0% {
    transform: translateY(25%) scale(1.1);
  }
  10.7% {
    transform: translateY(35%) scale(1);
    opacity: 0;
  }
  25.7% {
    transform: translateY(35%) scale(1);
    opacity: 1;
  }
  35% {
    transform: translateY(15%) scale(0.9);
    opacity: 1;
  }
  83.3% {
    transform: translateY(15%) scale(0.9);
    opacity: 1;
  }
  100% {
    transform: translateY(0) scale(0.9);
    opacity: 1;
  }
}

.card {
  position: absolute;
  top: 2%;
  left: 50%;
  width: 70%;
  max-width: 320px;
  height: auto;
  transition: transform 0.6s ease-in-out 1.3s, filter 0.3s ease;
  pointer-events: auto;
  cursor: pointer;
}

.card-wrapper {
  width: 100%;
  height: auto;
  transform-style: preserve-3d;
  transition: transform 0.3s ease-in-out;
  transform-origin: center center;
  will-change: transform;
}

/* .card-1 .card-wrapper {
  animation: cardFloat 4s ease-in-out infinite;
}
.card-3 .card-wrapper {
  animation: cardFloat 4s ease-in-out infinite;
}
.card-5 .card-wrapper {
  animation: cardFloat 4s ease-in-out infinite;
} */

@keyframes cardFloat {
  0%, 100% {
    transform: translateY(0px) rotateX(0deg) rotateY(0deg);
  }
  25% {
    transform: translateY(10px) rotateX(3deg) rotateY(-2deg);
  }
  50% {
    transform: translateY(0px) rotateX(0deg) rotateY(0deg);
  }
  75% {
    transform: translateY(-10px) rotateX(-3deg) rotateY(2deg);
  }
}

/* Золотое свечение */
.card.glow-gold:hover .card-wrapper {
  filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.8)) drop-shadow(0 0 25px rgba(255, 215, 0, 0.6)) drop-shadow(0 0 35px rgba(255, 215, 0, 0.4));
  z-index: 200 !important;
  animation-play-state: paused;
  transform: scale(1.1) rotateX(0deg) rotateY(0deg) !important;
}

/* Фиолетовое свечение */
.card.glow-purple:hover .card-wrapper {
  filter: drop-shadow(0 0 15px rgba(138, 43, 226, 0.8)) drop-shadow(0 0 25px rgba(138, 43, 226, 0.6)) drop-shadow(0 0 35px rgba(138, 43, 226, 0.4));
  z-index: 200 !important;
  animation-play-state: paused;
  transform: scale(1.1) rotateX(0deg) rotateY(0deg) !important;
}

/* Бледно-синее свечение */
.card.glow-blue:hover .card-wrapper {
  filter: drop-shadow(0 0 15px rgba(173, 216, 230, 0.5)) drop-shadow(0 0 25px rgba(173, 216, 230, 0.4)) drop-shadow(0 0 35px rgba(173, 216, 230, 0.3));
  z-index: 200 !important;
  animation-play-state: paused;
  transform: scale(1.1) rotateX(0deg) rotateY(0deg) !important;
}

.card-wrapper img {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 29px;
  transition: box-shadow 0.3s ease;
}

/* Золотое свечение для изображения */
.card.glow-gold:hover .card-wrapper img {
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.9), 0 0 30px rgba(255, 215, 0, 0.7), 0 0 40px rgba(255, 215, 0, 0.5);
}

/* Фиолетовое свечение для изображения */
.card.glow-purple:hover .card-wrapper img {
  box-shadow: 0 0 20px rgba(138, 43, 226, 0.9), 0 0 30px rgba(138, 43, 226, 0.7), 0 0 40px rgba(138, 43, 226, 0.5);
}

/* Бледно-синее свечение для изображения */
.card.glow-blue:hover .card-wrapper img {
  box-shadow: 0 0 20px rgba(173, 216, 230, 0.6), 0 0 30px rgba(173, 216, 230, 0.5), 0 0 40px rgba(173, 216, 230, 0.4);
}

.bottom {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 95%;
  background-size: contain;
  background-repeat: no-repeat;
  z-index: 100;
}

.bottom:active {
  cursor: grabbing;
}

.parallax-effect {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 473px;
  height: 718px;
  background-image: url('/pack-bottom-3.png');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: bottom;
  color: white;


  transform-style: preserve-3d;
}
.inner-element {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 35px;
    font-style: italic;
    color: white;
    transform: translateZ(60px);
  }

/* Эффект яркого свечения */
.glow-effect {
  position: absolute;
  top: 36px;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 600px;
  height: 600px;
  pointer-events: none;
  z-index: 1;
  transition: transform 0.5s ease-in-out, opacity 0.3s ease-out 0.1s !important;
}

.animation-container {
  position: relative;
  z-index: 4;
  transform: translateY(0) scale(1);
  transition: transform 0.3s ease-in-out, opacity 0.3s ease-out 0.1s !important;
}

.animation-container.pack-opened{
  z-index: 1;
  transform: translateY(1250px) scale(1.1);
}
/* Центральный источник света */
.glow-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 440px;
  height: 25px;
  background: radial-gradient(
    ellipse 225px 25px at center,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 220, 0.95) 15%,
    rgba(255, 240, 150, 0.9) 25%,
    rgba(255, 220, 120, 0.85) 35%,
    rgba(255, 200, 100, 0.8) 45%,
    rgba(255, 180, 80, 0.7) 55%,
    rgba(255, 150, 50, 0.6) 65%,
    rgba(255, 120, 30, 0.5) 75%,
    rgba(255, 100, 0, 0.4) 85%,
    rgba(255, 80, 0, 0.2) 95%,
    transparent 100%
  );
  filter: blur(3px) brightness(1.2);
  z-index: 10;
  animation: centerPulse 2s ease-in-out infinite;
}

@keyframes centerPulse {
  0%, 100% {
    transform: translate(-50%, -50%) scaleY(1);
    filter: blur(3px) brightness(1.2);
    opacity: 1;
  }
  50% {
    transform: translate(-50%, -50%) scaleY(1.4);
    filter: blur(3px) brightness(1.5);
    opacity: 0.95;
  }
}

/* Эффект подсветки с эллипсами */
.glow-backlight {
  position: absolute;
  top:  50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(1);
  width: 600px;
  height: 600px;
  pointer-events: none;
  z-index: 3;
  /* transition: top 0.1s linear, opacity 0.1s ease-in-out; */
}

.glow-backlight.pack-opened {
  animation: glow-backlight 2s ease-in-out;
  animation-fill-mode: both;
}

@keyframes glow-backlight {
  0% {
    transform: translate(-50%, -50%) scale(1);
  }
  40% {
    transform: translate(-50%, -50%) scale(4);
  }
  100% {
    transform: translate(-50%, -50%) scale(0);
  }
}
/* Первый эллипс - большой с blur 200px */
.glow-ellipse-1 {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 66%;
  background: #ffa852;
  border-radius: 50%;
  filter: blur(200px);
  z-index: 1;
}

/* Второй эллипс - поверх первого с blur 140px */
.glow-ellipse-2 {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 66%;
  background: #ffd152;
  border-radius: 50%;
  filter: blur(140px);
  z-index: 2;
}

/* Третий эллипс -  Blur 30px */
.glow-ellipse-3 {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 85%;
  height: 66%;
  background: radial-gradient(
    ellipse 85% 66% at center,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 220, 0.95) 15%,
    rgba(255, 240, 150, 0.9) 25%,
    rgba(255, 220, 120, 0.85) 35%,
    rgba(255, 200, 100, 0.8) 45%,
    rgba(255, 180, 80, 0.7) 55%,
    rgba(255, 150, 50, 0.6) 65%,
    rgba(255, 120, 30, 0.5) 75%,
    rgba(255, 100, 0, 0.4) 85%,
    rgba(255, 80, 0, 0.2) 95%,
    transparent 100%
  );
  filter: blur(35px) brightness(1.2);
  border-radius: 50%;
  z-index: 3;
}

.glow-backlight-particles {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -95%);
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.glow-backlight-particles.pack-opened {
  animation: glow-backlight-particles 2s ease-in-out;
  animation-fill-mode: both;
}

@keyframes glow-backlight-particles {

  0% {
    transform: translate(-50%, -100%) scale(1);
  }
  50% {
    transform: translate(-50%, -50%) scale(1);
  }
  100% {
    transform: translate(-50%, -50%) scale(0);
  }
}
/* Частицы, разлетающиеся из центра свечения */
.backlight-particle {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 220, 1) 20%,
    rgba(255, 240, 150, 0.95) 40%,
    rgba(255, 220, 120, 0.9) 60%,
    rgba(255, 200, 100, 0.8) 80%,
    rgba(255, 180, 80, 0.7) 100%
  );
  box-shadow: 
    0 0 15px rgba(255, 255, 255, 1),
    0 0 30px rgba(255, 255, 200, 0.9),
    0 0 45px rgba(255, 220, 120, 0.8),
    0 0 60px rgba(255, 200, 100, 0.6),
    0 0 75px rgba(255, 150, 50, 0.4);
  transform: translate(-50%, -50%);
  animation: backlightParticleFlyOut 2s ease-out infinite;
  opacity: 0;
  filter: brightness(1.3);
  z-index: 10;
}

.backlight-particle-1 {
  animation-delay: 0s;
  animation-duration: 2s;
  --translate-x: 400px;
  --translate-y: -250px;
}

.backlight-particle-2 {
  animation-delay: 0.2s;
  animation-duration: 2.2s;
  --translate-x: -350px;
  --translate-y: -280px;
}

.backlight-particle-3 {
  animation-delay: 0.4s;
  animation-duration: 2.4s;
  --translate-x: 420px;
  --translate-y: 200px;
}

.backlight-particle-4 {
  animation-delay: 0.6s;
  animation-duration: 2.1s;
  --translate-x: -380px;
  --translate-y: 230px;
}

.backlight-particle-5 {
  animation-delay: 0.8s;
  animation-duration: 2.3s;
  --translate-x: 280px;
  --translate-y: -360px;
}

.backlight-particle-6 {
  animation-delay: 1s;
  animation-duration: 2.5s;
  --translate-x: -320px;
  --translate-y: 340px;
}

.backlight-particle-7 {
  animation-delay: 1.2s;
  animation-duration: 2.2s;
  --translate-x: 450px;
  --translate-y: -150px;
}

.backlight-particle-8 {
  animation-delay: 1.4s;
  animation-duration: 2.4s;
  --translate-x: -400px;
  --translate-y: -180px;
}

@keyframes backlightParticleFlyOut {
  0% {
    transform: translate(-50%, -50%) translate(0, 0) scale(2);
    opacity: 1;
    filter: brightness(1.5);
  }
  15% {
    opacity: 1;
    filter: brightness(1.3);
  }
  50% {
    opacity: 0.9;
    filter: brightness(1.1);
  }
  100% {
    transform: translate(-50%, -50%) translate(var(--translate-x), var(--translate-y)) scale(0.4);
    opacity: 0;
    filter: brightness(0.8);
  }
}

/* Частицы и искры */
.glow-particles {
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  transition: opacity 0.6s ease-in-out;
  z-index: 8;
}

.glow-particles::before,
.glow-particles::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  background-image: 
    /* Множество мелких частиц */
    radial-gradient(circle at 20% 30%, rgba(255, 255, 150, 0.9) 1px, transparent 1px),
    radial-gradient(circle at 80% 20%, rgba(255, 200, 100, 0.8) 1.5px, transparent 1.5px),
    radial-gradient(circle at 40% 70%, rgba(255, 180, 80, 0.9) 1px, transparent 1px),
    radial-gradient(circle at 60% 80%, rgba(255, 160, 60, 0.8) 1.5px, transparent 1.5px),
    radial-gradient(circle at 15% 50%, rgba(255, 220, 120, 0.7) 1px, transparent 1px),
    radial-gradient(circle at 85% 60%, rgba(255, 190, 90, 0.8) 1px, transparent 1px),
    radial-gradient(circle at 30% 15%, rgba(255, 170, 70, 0.9) 1.5px, transparent 1.5px),
    radial-gradient(circle at 70% 90%, rgba(255, 210, 110, 0.7) 1px, transparent 1px),
    radial-gradient(circle at 50% 25%, rgba(255, 150, 50, 0.8) 1px, transparent 1px),
    radial-gradient(circle at 25% 75%, rgba(255, 200, 100, 0.9) 1.5px, transparent 1.5px),
    radial-gradient(circle at 75% 40%, rgba(255, 180, 80, 0.8) 1px, transparent 1px),
    radial-gradient(circle at 45% 55%, rgba(255, 160, 60, 0.7) 1px, transparent 1px),
    radial-gradient(circle at 55% 45%, rgba(255, 220, 120, 0.9) 1.5px, transparent 1.5px),
    radial-gradient(circle at 10% 10%, rgba(255, 190, 90, 0.8) 1px, transparent 1px),
    radial-gradient(circle at 90% 70%, rgba(255, 170, 70, 0.7) 1px, transparent 1px),
    radial-gradient(circle at 35% 85%, rgba(255, 210, 110, 0.9) 1.5px, transparent 1.5px),
    radial-gradient(circle at 65% 15%, rgba(255, 150, 50, 0.8) 1px, transparent 1px);
  background-size: 
    200px 200px,
    180px 180px,
    220px 220px,
    190px 190px,
    210px 210px,
    200px 200px,
    180px 180px,
    220px 220px,
    190px 190px,
    200px 200px,
    210px 210px,
    180px 180px,
    200px 200px,
    220px 220px,
    190px 190px,
    210px 210px,
    200px 200px;
  background-position: 
    0% 0%,
    20% 10%,
    40% 30%,
    60% 50%,
    80% 20%,
    10% 60%,
    30% 70%,
    70% 40%,
    50% 80%,
    15% 25%,
    85% 75%,
    25% 45%,
    75% 55%,
    5% 5%,
    95% 65%,
    35% 85%,
    65% 15%;
  filter: blur(0.5px);
  /* animation: particleFloat 8s ease-in-out infinite; */
}

.glow-particles::after {
  animation-delay: -4s;
  opacity: 0.7;
}

.glow-particles::before,
.glow-particles::after {
  animation: particleFloat 8s ease-in-out infinite;
}

/* Анимации */
@keyframes particleFloat {
  0%, 100% {
    transform: translate(-50%, -50%) rotate(0deg) scale(1);
    opacity: 0.8;
  }
  25% {
    transform: translate(-50%, -50%) rotate(90deg) scale(1.1);
    opacity: 1;
  }
  50% {
    transform: translate(-50%, -50%) rotate(180deg) scale(0.9);
    opacity: 0.7;
  }
  75% {
    transform: translate(-50%, -50%) rotate(270deg) scale(1.05);
    opacity: 0.9;
  }
}

/* Концентрические кольца свечения */
.glow-rings {
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  z-index: 4;
  transition: opacity 0.6s ease-in-out;
}

.glow-rings::before,
.glow-rings::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  border: 2px solid;
  opacity: 0.4;
  
}

.glow-rings::before {
  width: 500px;
  height: 500px;
  border-color: rgba(255, 200, 100, 0.6);
  box-shadow: 
    0 0 40px rgba(255, 200, 100, 0.4),
    inset 0 0 40px rgba(255, 200, 100, 0.2);
  animation-delay: 0s;
}

.glow-rings::after {
  width: 600px;
  height: 600px;
  border-color: rgba(255, 150, 50, 0.5);
  box-shadow: 
    0 0 60px rgba(255, 150, 50, 0.3),
    inset 0 0 60px rgba(255, 150, 50, 0.15);
  animation-delay: -1.5s;
}

.glow-rings::before,
.glow-rings::after {
  animation: ringPulse 3s ease-in-out infinite;
}

@keyframes ringPulse {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.4;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
    opacity: 0.6;
  }
}

